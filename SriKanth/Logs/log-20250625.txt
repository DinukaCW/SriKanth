2025-06-25 18:28:31.984 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 18:28:32.450 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 18:28:32.452 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 18:28:32.637 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 18:28:32.667 +05:30 [INF] Hosting environment: Development
2025-06-25 18:28:32.668 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 18:28:34.410 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 18:28:34.770 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 376.913ms
2025-06-25 18:28:34.818 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 18:28:34.831 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 13.1397ms
2025-06-25 18:28:34.929 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 18:28:35.039 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.0501ms
2025-06-25 18:28:35.771 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 18:28:35.839 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.1498ms
2025-06-25 18:29:04.605 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 18:29:04.906 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 18:29:04.908 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 18:29:05.028 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 18:29:05.029 +05:30 [INF] Hosting environment: Development
2025-06-25 18:29:05.031 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 18:29:05.650 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 18:29:05.912 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 272.0172ms
2025-06-25 18:29:05.982 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 18:29:06.015 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 31.9605ms
2025-06-25 18:29:06.084 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 18:29:06.158 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.8414ms
2025-06-25 18:29:06.975 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 18:29:07.014 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.403ms
2025-06-25 18:29:19.139 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetInvoicesByCustomer?customerId=1010 - null null
2025-06-25 18:29:20.459 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicesByCustomer (SriKanth.API)'
2025-06-25 18:29:21.276 +05:30 [INF] Route matched with {action = "GetInvoicesByCustomer", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoicesByCustomer(System.String) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 18:29:21.929 +05:30 [INF] Retrieving customer-wise invoices for customerCode: 1010
2025-06-25 18:29:27.350 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:29:27.357 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:29:27.963 +05:30 [INF] Received HTTP response headers after 601.7573ms - 200
2025-06-25 18:29:27.967 +05:30 [INF] End processing HTTP request after 620.9425ms - 200
2025-06-25 18:29:29.153 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:29:29.156 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:29:30.666 +05:30 [INF] Received HTTP response headers after 1506.6925ms - 200
2025-06-25 18:29:30.670 +05:30 [INF] End processing HTTP request after 1516.5021ms - 200
2025-06-25 18:34:49.346 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 18:34:49.625 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 18:34:49.627 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 18:34:49.705 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 18:34:49.707 +05:30 [INF] Hosting environment: Development
2025-06-25 18:34:49.707 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 18:34:50.184 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 18:34:50.408 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 242.4981ms
2025-06-25 18:34:50.479 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 18:34:50.492 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 13.2976ms
2025-06-25 18:34:50.542 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 18:34:50.606 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.3165ms
2025-06-25 18:34:51.278 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 18:34:51.310 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.298ms
2025-06-25 18:35:17.710 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetInvoicesByCustomer?customerId=1010 - null null
2025-06-25 18:35:17.777 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicesByCustomer (SriKanth.API)'
2025-06-25 18:35:17.937 +05:30 [INF] Route matched with {action = "GetInvoicesByCustomer", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoicesByCustomer(System.String) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 18:35:18.033 +05:30 [INF] Retrieving customer-wise invoices for customerCode: 1010
2025-06-25 18:35:20.005 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:35:20.012 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:35:20.784 +05:30 [INF] Received HTTP response headers after 765.6345ms - 200
2025-06-25 18:35:20.790 +05:30 [INF] End processing HTTP request after 788.8459ms - 200
2025-06-25 18:35:21.663 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:35:21.665 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:35:26.139 +05:30 [INF] Received HTTP response headers after 4470.5171ms - 200
2025-06-25 18:35:26.143 +05:30 [INF] End processing HTTP request after 4480.255ms - 200
2025-06-25 18:35:28.368 +05:30 [INF] Successfully retrieved invoice summary for customer code: 1010
2025-06-25 18:35:28.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'SriKanth.Model.BusinessModule.DTOs.CustomerWiseInvoices'.
2025-06-25 18:35:28.405 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.GetInvoicesByCustomer (SriKanth.API) in 10455.1783ms
2025-06-25 18:35:28.408 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicesByCustomer (SriKanth.API)'
2025-06-25 18:35:28.411 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Business/GetInvoicesByCustomer?customerId=1010 - 200 null application/json; charset=utf-8 10701.1499ms
2025-06-25 18:36:10.156 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetInvoiceDetails?userId=10 - null null
2025-06-25 18:36:10.166 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicedByUser (SriKanth.API)'
2025-06-25 18:36:10.185 +05:30 [INF] Route matched with {action = "GetInvoicedByUser", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoicedByUser(Int32) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 18:36:10.193 +05:30 [INF] Beginning to retrieve Customer Invoice Details for user 10 
2025-06-25 18:36:12.678 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 18:36:12.680 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 18:36:12.681 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 18:36:12.682 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 18:36:15.382 +05:30 [INF] Executed DbCommand (274ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-25 18:36:16.646 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:36:16.647 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:36:17.089 +05:30 [INF] Received HTTP response headers after 439.0306ms - 200
2025-06-25 18:36:17.093 +05:30 [INF] End processing HTTP request after 447.5578ms - 200
2025-06-25 18:36:17.916 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 18:36:17.919 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 18:36:19.013 +05:30 [INF] Received HTTP response headers after 1093.6286ms - 200
2025-06-25 18:36:19.015 +05:30 [INF] End processing HTTP request after 1099.0833ms - 200
2025-06-25 18:36:26.750 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:36:26.751 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:36:27.246 +05:30 [INF] Received HTTP response headers after 493.1238ms - 200
2025-06-25 18:36:27.249 +05:30 [INF] End processing HTTP request after 498.9517ms - 200
2025-06-25 18:36:28.388 +05:30 [ERR] Failed to retrieve invoices for user 10
System.FormatException: The input string 'SO-00006' was not in a correct format.
   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)
   at System.Int32.Parse(String s)
   at SriKanth.Service.SalesModule.BusinessApiService.GetCustomerInvoicesAsync(Int32 userId) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\BusinessApiService.cs:line 828
2025-06-25 18:36:28.479 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-06-25 18:36:28.482 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.GetInvoicedByUser (SriKanth.API) in 18295.7567ms
2025-06-25 18:36:28.483 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicedByUser (SriKanth.API)'
2025-06-25 18:36:28.491 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Business/GetInvoiceDetails?userId=10 - 500 null text/plain; charset=utf-8 18335.1947ms
2025-06-25 18:36:36.472 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetInvoiceDetails?userId=10 - null null
2025-06-25 18:36:36.478 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetInvoicedByUser (SriKanth.API)'
2025-06-25 18:36:36.486 +05:30 [INF] Route matched with {action = "GetInvoicedByUser", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoicedByUser(Int32) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 18:36:36.497 +05:30 [INF] Beginning to retrieve Customer Invoice Details for user 10 
2025-06-25 18:36:36.861 +05:30 [INF] Executed DbCommand (341ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-25 18:36:58.669 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:36:58.672 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 18:36:58.915 +05:30 [INF] Received HTTP response headers after 240.6671ms - 200
2025-06-25 18:36:58.920 +05:30 [INF] End processing HTTP request after 250.6903ms - 200
2025-06-25 18:37:00.142 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 18:37:00.143 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 18:37:01.001 +05:30 [INF] Received HTTP response headers after 856.3498ms - 200
2025-06-25 18:37:01.007 +05:30 [INF] End processing HTTP request after 864.565ms - 200
2025-06-25 18:38:08.500 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:38:08.501 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoices?$expand=postedInvoiceLines
2025-06-25 18:38:10.289 +05:30 [INF] Received HTTP response headers after 1727.3989ms - 200
2025-06-25 18:38:10.294 +05:30 [INF] End processing HTTP request after 1793.9504ms - 200
2025-06-25 19:12:56.453 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 19:12:56.718 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 19:12:56.722 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 19:12:56.814 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 19:12:56.815 +05:30 [INF] Hosting environment: Development
2025-06-25 19:12:56.817 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 19:12:57.366 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 19:12:57.630 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 277.9671ms
2025-06-25 19:12:57.671 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 19:12:57.685 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 13.9548ms
2025-06-25 19:12:57.750 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 19:12:57.814 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.8596ms
2025-06-25 19:12:58.461 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 19:12:58.482 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.7234ms
2025-06-25 19:13:09.548 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - null null
2025-06-25 19:13:09.628 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:13:09.796 +05:30 [INF] Route matched with {action = "GetDeliveredOrdersByUser", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeliveredOrdersByUser(Int32) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 19:13:12.662 +05:30 [INF] Beginning to retrieve orders for user 10 with status "Delivered"
2025-06-25 19:13:14.203 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:13:14.207 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:13:14.208 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:13:14.209 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:13:16.975 +05:30 [INF] Executed DbCommand (279ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-25 19:13:17.305 +05:30 [INF] Executed DbCommand (229ms) [Parameters=[@__userRoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserRoleName]
FROM [UserRole] AS [u]
WHERE [u].[UserRoleID] = @__userRoleId_0
2025-06-25 19:13:17.559 +05:30 [INF] Executed DbCommand (232ms) [Parameters=[@__salesPersonCode_0='?' (Size = 4000), @__orderStatus_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[SalesPersonCode] = @__salesPersonCode_0 AND [o].[Status] = @__orderStatus_1
2025-06-25 19:13:17.853 +05:30 [INF] Executed DbCommand (225ms) [Parameters=[@__orderNumbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] IN (
    SELECT [o0].[value]
    FROM OPENJSON(@__orderNumbers_0) WITH ([value] int '$') AS [o0]
)
2025-06-25 19:13:19.449 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:19.455 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:20.966 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:20.968 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:22.417 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:22.419 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:13:22.900 +05:30 [INF] Received HTTP response headers after 3437.8383ms - 200
2025-06-25 19:13:22.905 +05:30 [INF] End processing HTTP request after 3457.7239ms - 200
2025-06-25 19:13:24.097 +05:30 [INF] Received HTTP response headers after 3126.2097ms - 200
2025-06-25 19:13:24.097 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:13:24.102 +05:30 [INF] Received HTTP response headers after 1680.8389ms - 200
2025-06-25 19:13:24.103 +05:30 [INF] End processing HTTP request after 3137.1256ms - 200
2025-06-25 19:13:24.104 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:13:24.104 +05:30 [INF] End processing HTTP request after 1687.171ms - 200
2025-06-25 19:13:25.282 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:13:26.451 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:13:26.451 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:13:26.458 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:13:28.247 +05:30 [INF] Received HTTP response headers after 1786.4ms - 200
2025-06-25 19:13:28.254 +05:30 [INF] End processing HTTP request after 1802.7305ms - 200
2025-06-25 19:13:29.074 +05:30 [INF] Received HTTP response headers after 2619.8158ms - 200
2025-06-25 19:13:29.891 +05:30 [INF] End processing HTTP request after 4609.0277ms - 200
2025-06-25 19:13:29.891 +05:30 [INF] Received HTTP response headers after 5784.5636ms - 200
2025-06-25 19:13:31.450 +05:30 [INF] End processing HTTP request after 7353.1433ms - 200
2025-06-25 19:13:43.827 +05:30 [INF] Retrieved 1 "Delivered" orders for user 10
2025-06-25 19:13:43.840 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SriKanth.Model.BusinessModule.DTOs.OrderReturn, SriKanth.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-25 19:13:43.864 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API) in 34060.5906ms
2025-06-25 19:13:43.868 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:13:43.877 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - 200 null application/json; charset=utf-8 34328.5552ms
2025-06-25 19:14:16.457 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - null null
2025-06-25 19:14:16.465 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:14:16.472 +05:30 [INF] Route matched with {action = "GetDeliveredOrdersByUser", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeliveredOrdersByUser(Int32) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 19:14:18.129 +05:30 [INF] Beginning to retrieve orders for user 10 with status "Delivered"
2025-06-25 19:14:18.415 +05:30 [INF] Executed DbCommand (268ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-25 19:14:18.647 +05:30 [INF] Executed DbCommand (227ms) [Parameters=[@__userRoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserRoleName]
FROM [UserRole] AS [u]
WHERE [u].[UserRoleID] = @__userRoleId_0
2025-06-25 19:14:18.886 +05:30 [INF] Executed DbCommand (230ms) [Parameters=[@__salesPersonCode_0='?' (Size = 4000), @__orderStatus_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[SalesPersonCode] = @__salesPersonCode_0 AND [o].[Status] = @__orderStatus_1
2025-06-25 19:14:19.116 +05:30 [INF] Executed DbCommand (223ms) [Parameters=[@__orderNumbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] IN (
    SELECT [o0].[value]
    FROM OPENJSON(@__orderNumbers_0) WITH ([value] int '$') AS [o0]
)
2025-06-25 19:14:33.649 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:33.650 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:34.351 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:34.356 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:35.250 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:35.252 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:14:35.960 +05:30 [INF] Received HTTP response headers after 2303.2434ms - 200
2025-06-25 19:14:35.962 +05:30 [INF] End processing HTTP request after 2312.7828ms - 200
2025-06-25 19:14:35.963 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:14:35.965 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:14:36.046 +05:30 [INF] Received HTTP response headers after 1688.284ms - 200
2025-06-25 19:14:36.049 +05:30 [INF] End processing HTTP request after 1699.5112ms - 200
2025-06-25 19:14:36.052 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:14:36.053 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:14:36.173 +05:30 [INF] Received HTTP response headers after 919.876ms - 200
2025-06-25 19:14:36.179 +05:30 [INF] End processing HTTP request after 928.4478ms - 200
2025-06-25 19:14:36.183 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:14:36.184 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:14:37.777 +05:30 [INF] Received HTTP response headers after 1723.1917ms - 200
2025-06-25 19:14:37.781 +05:30 [INF] End processing HTTP request after 1728.6796ms - 200
2025-06-25 19:14:38.412 +05:30 [INF] Received HTTP response headers after 2227.4585ms - 200
2025-06-25 19:14:38.415 +05:30 [INF] End processing HTTP request after 2231.7893ms - 200
2025-06-25 19:15:38.176 +05:30 [ERR] Failed to retrieve "Delivered" orders for user 10
System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.<EnsureReadAheadTaskHasStarted>g__ReadAheadWithZeroByteReadAsync|40_0()
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SriKanth.Service.SalesModule.ExternalApiService.GetDataFromApiAsync[T](String apiUrl) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 111
   at SriKanth.Service.SalesModule.ExternalApiService.GetCustomersAsync() in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 181
   at SriKanth.Service.SalesModule.BusinessApiService.GetOrdersListAsync(Int32 userId, OrderStatus orderStatus) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\BusinessApiService.cs:line 519
2025-06-25 19:15:38.263 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-06-25 19:15:38.266 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API) in 81791.1681ms
2025-06-25 19:15:38.269 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:15:38.270 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - 500 null text/plain; charset=utf-8 81814.0493ms
2025-06-25 19:15:43.782 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - null null
2025-06-25 19:15:43.788 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:15:43.794 +05:30 [INF] Route matched with {action = "GetDeliveredOrdersByUser", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeliveredOrdersByUser(Int32) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 19:15:47.970 +05:30 [INF] Beginning to retrieve orders for user 10 with status "Delivered"
2025-06-25 19:15:49.340 +05:30 [INF] Executed DbCommand (225ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-25 19:15:49.566 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@__userRoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserRoleName]
FROM [UserRole] AS [u]
WHERE [u].[UserRoleID] = @__userRoleId_0
2025-06-25 19:15:49.807 +05:30 [INF] Executed DbCommand (236ms) [Parameters=[@__salesPersonCode_0='?' (Size = 4000), @__orderStatus_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[SalesPersonCode] = @__salesPersonCode_0 AND [o].[Status] = @__orderStatus_1
2025-06-25 19:15:50.033 +05:30 [INF] Executed DbCommand (223ms) [Parameters=[@__orderNumbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] IN (
    SELECT [o0].[value]
    FROM OPENJSON(@__orderNumbers_0) WITH ([value] int '$') AS [o0]
)
2025-06-25 19:15:51.218 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:51.221 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:54.096 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:54.102 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:56.219 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:56.220 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:15:56.623 +05:30 [INF] Received HTTP response headers after 5401.1054ms - 200
2025-06-25 19:15:56.628 +05:30 [INF] End processing HTTP request after 5409.4151ms - 200
2025-06-25 19:15:56.633 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:15:56.634 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:15:56.673 +05:30 [INF] Received HTTP response headers after 2568.4764ms - 200
2025-06-25 19:15:56.676 +05:30 [INF] End processing HTTP request after 2579.9766ms - 200
2025-06-25 19:15:56.677 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:15:56.677 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesPeople
2025-06-25 19:15:56.896 +05:30 [INF] Received HTTP response headers after 673.1368ms - 200
2025-06-25 19:15:56.900 +05:30 [INF] End processing HTTP request after 680.5442ms - 200
2025-06-25 19:15:56.905 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:15:56.906 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/postedInvoiceLines
2025-06-25 19:15:57.536 +05:30 [INF] Received HTTP response headers after 858.0669ms - 200
2025-06-25 19:15:57.539 +05:30 [INF] End processing HTTP request after 862.4048ms - 200
2025-06-25 19:15:58.865 +05:30 [INF] Received HTTP response headers after 2231.2587ms - 200
2025-06-25 19:15:58.870 +05:30 [INF] End processing HTTP request after 2236.877ms - 200
2025-06-25 19:15:59.621 +05:30 [INF] Received HTTP response headers after 2713.8779ms - 200
2025-06-25 19:15:59.627 +05:30 [INF] End processing HTTP request after 2721.8692ms - 200
2025-06-25 19:17:12.498 +05:30 [INF] Retrieved 1 "Delivered" orders for user 10
2025-06-25 19:17:12.505 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SriKanth.Model.BusinessModule.DTOs.OrderReturn, SriKanth.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-25 19:17:12.514 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API) in 88716.565ms
2025-06-25 19:17:12.516 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.GetDeliveredOrdersByUser (SriKanth.API)'
2025-06-25 19:17:12.517 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Business/GetDeliveredOrders?userId=10 - 200 null application/json; charset=utf-8 88734.9942ms
2025-06-25 19:31:02.083 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 19:31:02.337 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 19:31:02.341 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 19:31:02.418 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 19:31:02.421 +05:30 [INF] Hosting environment: Development
2025-06-25 19:31:02.421 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 19:31:03.039 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 19:31:03.294 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 273.1339ms
2025-06-25 19:31:03.364 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 19:31:03.378 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 14.1582ms
2025-06-25 19:31:03.427 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 19:31:03.500 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.3159ms
2025-06-25 19:31:04.168 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 19:31:04.193 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.857ms
2025-06-25 19:31:52.921 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - application/json 206
2025-06-25 19:31:53.078 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-25 19:31:53.227 +05:30 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(SriKanth.Model.BusinessModule.DTOs.UpdateOrderRequest) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-25 19:31:56.818 +05:30 [INF] Beginning status update for order 1020 to status "Processing"
2025-06-25 19:31:58.733 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:31:58.735 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:31:58.737 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:31:58.738 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-25 19:32:01.070 +05:30 [INF] Executed DbCommand (280ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-25 19:32:04.289 +05:30 [INF] Executed DbCommand (236ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (DbType = Date), @p3='?' (Size = 4000), @p4='?' (Size = 1000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 1000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [CustomerCode] = @p0, [DelivertPersonName] = @p1, [DeliveryDate] = @p2, [LocationCode] = @p3, [Note] = @p4, [OrderDate] = @p5, [PaymentMethodCode] = @p6, [RejectReason] = @p7, [SalesPersonCode] = @p8, [Status] = @p9, [TotalAmount] = @p10, [TrackingNumber] = @p11
OUTPUT 1
WHERE [OrderNumber] = @p12;
2025-06-25 19:32:05.850 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:32:05.855 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:32:07.324 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:32:07.325 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-25 19:32:07.810 +05:30 [INF] Received HTTP response headers after 481.0103ms - 200
2025-06-25 19:32:07.814 +05:30 [INF] End processing HTTP request after 490.3669ms - 200
2025-06-25 19:32:07.820 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-25 19:32:07.823 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-25 19:32:07.874 +05:30 [INF] Received HTTP response headers after 2017.9576ms - 200
2025-06-25 19:32:07.878 +05:30 [INF] End processing HTTP request after 2031.4267ms - 200
2025-06-25 19:32:07.880 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:32:07.881 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-25 19:32:09.192 +05:30 [INF] Received HTTP response headers after 1368.1636ms - 200
2025-06-25 19:32:09.196 +05:30 [INF] End processing HTTP request after 1375.4461ms - 200
2025-06-25 19:32:10.410 +05:30 [INF] Received HTTP response headers after 2527.9002ms - 200
2025-06-25 19:32:10.413 +05:30 [INF] End processing HTTP request after 2533.8682ms - 200
2025-06-25 19:32:28.402 +05:30 [INF] Executed DbCommand (236ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-25 19:32:34.071 +05:30 [INF] Start processing HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-25 19:32:34.074 +05:30 [INF] Sending HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-25 19:32:36.117 +05:30 [INF] Received HTTP response headers after 2041.6184ms - 201
2025-06-25 19:32:36.122 +05:30 [INF] End processing HTTP request after 2051.7318ms - 201
2025-06-25 19:32:36.128 +05:30 [INF] Successfully posted order 1020 to external API
2025-06-25 19:32:36.129 +05:30 [INF] Successfully updated status of order 1020 to "Processing"
2025-06-25 19:32:36.413 +05:30 [INF] Executed DbCommand (224ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserHistory] ([ActionType], [Endpoint], [EntityType], [IPAddress], [Timestamp], [UserId])
OUTPUT INSERTED.[UserHistoryId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-25 19:32:36.433 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 19:32:36.445 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API) in 43210.7531ms
2025-06-25 19:32:36.448 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-25 19:32:36.455 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - 200 null application/json; charset=utf-8 43534.9558ms
2025-06-25 19:49:40.914 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 19:49:41.219 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-25 19:49:41.220 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-25 19:49:41.562 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-25 19:49:41.569 +05:30 [INF] Hosting environment: Development
2025-06-25 19:49:41.571 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-25 19:49:41.963 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-25 19:49:42.297 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 350.8635ms
2025-06-25 19:49:42.511 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-25 19:49:42.511 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-25 19:49:42.526 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 15.1977ms
2025-06-25 19:49:42.584 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.2645ms
2025-06-25 19:49:43.207 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-25 19:49:43.246 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.1028ms
