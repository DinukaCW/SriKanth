2025-06-19 16:49:46.994 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 16:49:47.350 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 16:49:47.353 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 16:49:47.623 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 16:49:47.625 +05:30 [INF] Hosting environment: Development
2025-06-19 16:49:47.626 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 16:49:48.380 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 16:49:48.843 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 477.4659ms
2025-06-19 16:49:48.906 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 16:49:48.933 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 27.528ms
2025-06-19 16:49:48.996 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 16:49:49.096 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.3579ms
2025-06-19 16:49:49.691 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 16:49:49.733 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.06ms
2025-06-19 16:53:09.946 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - null null
2025-06-19 16:53:10.116 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-19 16:53:10.123 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-19 16:53:10.127 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - 401 0 null 181.8446ms
2025-06-19 16:53:58.012 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 16:53:58.255 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 16:53:58.257 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 16:53:58.397 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 16:53:58.402 +05:30 [INF] Hosting environment: Development
2025-06-19 16:53:58.435 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 16:53:58.679 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 16:53:59.016 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 351.9534ms
2025-06-19 16:53:59.068 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 16:53:59.091 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 20.818ms
2025-06-19 16:53:59.151 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 16:53:59.223 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.0277ms
2025-06-19 16:53:59.747 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 16:53:59.790 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.0263ms
2025-06-19 16:54:12.219 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 16:54:12.444 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 16:54:12.446 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 16:54:12.523 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 16:54:12.525 +05:30 [INF] Hosting environment: Development
2025-06-19 16:54:12.526 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 16:54:12.891 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 16:54:13.089 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 211.0438ms
2025-06-19 16:54:13.134 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 16:54:13.148 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 14.1243ms
2025-06-19 16:54:13.208 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 16:54:13.249 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7575ms
2025-06-19 16:54:13.890 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 16:54:13.914 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0428ms
2025-06-19 16:54:22.248 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - null null
2025-06-19 16:54:22.371 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 16:54:22.818 +05:30 [INF] Route matched with {action = "GetUserDetailsById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDetailsById(Int32) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 16:54:23.149 +05:30 [INF] Getting details for user: 10
2025-06-19 16:54:26.117 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 16:54:26.119 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 16:54:26.121 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 16:54:26.123 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 16:54:28.826 +05:30 [INF] Executed DbCommand (324ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 16:54:29.230 +05:30 [INF] Executed DbCommand (235ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 16:54:29.520 +05:30 [INF] Executed DbCommand (255ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[LocationCode]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 16:54:29.532 +05:30 [INF] Retrieved details for user: 10
2025-06-19 16:54:29.547 +05:30 [INF] Executing OkObjectResult, writing value of type 'SriKanth.Model.Login_Module.DTOs.UserDetails'.
2025-06-19 16:54:29.572 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API) in 6481.5325ms
2025-06-19 16:54:29.578 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 16:54:29.590 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - 200 null application/json; charset=utf-8 7342.1412ms
2025-06-19 16:56:22.990 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=10 - application/json 387
2025-06-19 16:56:23.038 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 16:56:23.049 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 16:56:23.141 +05:30 [INF] Updating user: 10
2025-06-19 16:56:23.420 +05:30 [INF] Executed DbCommand (241ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 16:56:23.690 +05:30 [INF] Executed DbCommand (260ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 16:56:23.920 +05:30 [INF] Executed DbCommand (217ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserLocationId], [u].[LocationCode], [u].[UserId]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 16:56:24.586 +05:30 [INF] Executed DbCommand (240ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p0;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p1;
UPDATE [Users] SET [UserRoleId] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-06-19 16:56:25.145 +05:30 [INF] Executed DbCommand (245ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserLocation] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([LocationCode], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([LocationCode], [UserId])
VALUES (i.[LocationCode], i.[UserId])
OUTPUT INSERTED.[UserLocationId], i._Position;
2025-06-19 16:56:25.430 +05:30 [INF] Executed DbCommand (260ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 16:56:25.680 +05:30 [INF] Executed DbCommand (240ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MFASetting] SET [IsMFAEnabled] = @p0, [PreferredMFAType] = @p1, [UserID] = @p2
OUTPUT 1
WHERE [MFASettingID] = @p3;
2025-06-19 16:56:25.689 +05:30 [INF] User updated: 10
2025-06-19 16:56:25.695 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 16:56:25.708 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 2653.6681ms
2025-06-19 16:56:25.713 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 16:56:25.717 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=10 - 200 null application/json; charset=utf-8 2727.8877ms
2025-06-19 17:16:45.549 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 17:16:45.828 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 17:16:45.830 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 17:16:45.963 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:16:45.965 +05:30 [INF] Hosting environment: Development
2025-06-19 17:16:45.966 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 17:16:46.590 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 17:16:46.984 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 410.1818ms
2025-06-19 17:16:47.087 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 17:16:47.241 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 17:16:47.390 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 302.9709ms
2025-06-19 17:16:47.492 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 251.189ms
2025-06-19 17:16:48.277 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 17:16:48.672 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 395.8993ms
2025-06-19 17:19:01.481 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7168/api/User/login - application/json 94
2025-06-19 17:19:01.590 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.Login (SriKanth.API)'
2025-06-19 17:19:01.615 +05:30 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SriKanth.Model.Login_Module.DTOs.RequestLogin) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:19:01.825 +05:30 [INF] Login attempt started for the user with username or email: DinukaChathuranga.
2025-06-19 17:19:04.985 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:19:04.988 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:19:04.990 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:19:04.992 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:19:10.284 +05:30 [INF] Executed DbCommand (1,204ms) [Parameters=[@__usernameOrEmail_0='?' (Size = 100), @__usernameOrEmail_0_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__usernameOrEmail_0 OR [u].[Email] = @__usernameOrEmail_0_1
2025-06-19 17:19:10.318 +05:30 [WRN] Invalid login attempt for user: DinukaChathuranga.
2025-06-19 17:19:10.330 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:19:10.340 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.Login (SriKanth.API) in 8718.926ms
2025-06-19 17:19:10.343 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.Login (SriKanth.API)'
2025-06-19 17:19:10.351 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7168/api/User/login - 401 null application/json; charset=utf-8 8870.1755ms
2025-06-19 17:28:03.984 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 17:28:05.103 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 17:28:05.106 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 17:28:05.386 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:28:05.420 +05:30 [INF] Hosting environment: Development
2025-06-19 17:28:05.422 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 17:28:07.399 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 17:28:07.941 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 558.3134ms
2025-06-19 17:28:07.975 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 17:28:08.039 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 64.7452ms
2025-06-19 17:28:08.129 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 17:28:08.338 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 208.5844ms
2025-06-19 17:28:09.209 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 17:28:09.552 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 348.1547ms
2025-06-19 17:32:24.733 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 17:32:25.006 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 17:32:25.008 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 17:32:25.090 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:32:25.092 +05:30 [INF] Hosting environment: Development
2025-06-19 17:32:25.093 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 17:32:25.514 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 17:32:25.806 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 301.344ms
2025-06-19 17:32:25.848 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 17:32:25.859 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 12.5119ms
2025-06-19 17:32:25.936 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 17:32:26.000 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.4322ms
2025-06-19 17:32:26.621 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 17:32:26.659 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.8174ms
2025-06-19 17:32:37.380 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=11 - null null
2025-06-19 17:32:37.441 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 17:32:37.602 +05:30 [INF] Route matched with {action = "GetUserDetailsById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDetailsById(Int32) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:32:37.633 +05:30 [INF] Getting details for user: 11
2025-06-19 17:32:39.794 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:32:39.797 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:32:39.797 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:32:39.798 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:32:44.672 +05:30 [INF] Executed DbCommand (2,873ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:32:45.020 +05:30 [INF] Executed DbCommand (251ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:32:45.265 +05:30 [INF] Executed DbCommand (224ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[LocationCode]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:32:45.276 +05:30 [INF] Retrieved details for user: 11
2025-06-19 17:32:45.282 +05:30 [INF] Executing OkObjectResult, writing value of type 'SriKanth.Model.Login_Module.DTOs.UserDetails'.
2025-06-19 17:32:45.295 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API) in 7687.5961ms
2025-06-19 17:32:45.298 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 17:32:45.305 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=11 - 200 null application/json; charset=utf-8 7925.4178ms
2025-06-19 17:34:19.375 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 387
2025-06-19 17:34:19.388 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:34:19.393 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:34:19.435 +05:30 [INF] Updating user: 11
2025-06-19 17:34:19.685 +05:30 [INF] Executed DbCommand (234ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:34:19.916 +05:30 [INF] Executed DbCommand (223ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:34:32.396 +05:30 [INF] Executed DbCommand (223ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserLocationId], [u].[LocationCode], [u].[UserId]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:34:33.006 +05:30 [INF] Executed DbCommand (307ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p0;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p1;
2025-06-19 17:34:33.560 +05:30 [INF] Executed DbCommand (257ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserLocation] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([LocationCode], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([LocationCode], [UserId])
VALUES (i.[LocationCode], i.[UserId])
OUTPUT INSERTED.[UserLocationId], i._Position;
2025-06-19 17:34:33.955 +05:30 [INF] Executed DbCommand (374ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 17:34:34.225 +05:30 [INF] Executed DbCommand (262ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MFASetting] SET [IsMFAEnabled] = @p0, [PreferredMFAType] = @p1, [UserID] = @p2
OUTPUT 1
WHERE [MFASettingID] = @p3;
2025-06-19 17:34:34.229 +05:30 [INF] User updated: 11
2025-06-19 17:34:34.231 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:34:34.235 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 14838.8639ms
2025-06-19 17:34:34.236 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:34:34.237 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 200 null application/json; charset=utf-8 14863.7899ms
2025-06-19 17:35:30.244 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 392
2025-06-19 17:35:30.255 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:35:30.261 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:35:30.272 +05:30 [INF] Updating user: 11
2025-06-19 17:35:30.726 +05:30 [INF] Executed DbCommand (407ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:35:30.951 +05:30 [INF] Executed DbCommand (219ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:35:45.339 +05:30 [INF] Executed DbCommand (423ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userName_1='?' (Size = 100), @__email_2='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__userId_0 AND ([u].[Username] = @__userName_1 OR [u].[Email] = @__email_2)
2025-06-19 17:36:05.280 +05:30 [INF] Executed DbCommand (286ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserLocationId], [u].[LocationCode], [u].[UserId]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:36:05.755 +05:30 [INF] Executed DbCommand (265ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p6='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p0;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p1;
UPDATE [Users] SET [FirstName] = @p2, [LastName] = @p3, [PasswordHash] = @p4, [Username] = @p5
OUTPUT 1
WHERE [UserID] = @p6;
2025-06-19 17:36:06.245 +05:30 [INF] Executed DbCommand (248ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserLocation] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([LocationCode], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([LocationCode], [UserId])
VALUES (i.[LocationCode], i.[UserId])
OUTPUT INSERTED.[UserLocationId], i._Position;
2025-06-19 17:36:06.519 +05:30 [INF] Executed DbCommand (268ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 17:36:06.745 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MFASetting] SET [IsMFAEnabled] = @p0, [PreferredMFAType] = @p1, [UserID] = @p2
OUTPUT 1
WHERE [MFASettingID] = @p3;
2025-06-19 17:36:06.749 +05:30 [INF] User updated: 11
2025-06-19 17:36:06.750 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:36:06.751 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 36486.8423ms
2025-06-19 17:36:06.753 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:36:06.754 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 200 null application/json; charset=utf-8 36509.6242ms
2025-06-19 17:37:00.779 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - null null
2025-06-19 17:37:00.782 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 17:37:00.811 +05:30 [INF] Route matched with {action = "GetUserDetailsById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDetailsById(Int32) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:37:00.814 +05:30 [INF] Getting details for user: 10
2025-06-19 17:37:01.296 +05:30 [INF] Executed DbCommand (480ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:37:01.539 +05:30 [INF] Executed DbCommand (239ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:37:01.800 +05:30 [INF] Executed DbCommand (258ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[LocationCode]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:37:01.804 +05:30 [INF] Retrieved details for user: 10
2025-06-19 17:37:01.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'SriKanth.Model.Login_Module.DTOs.UserDetails'.
2025-06-19 17:37:01.807 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API) in 993.3053ms
2025-06-19 17:37:01.808 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.GetUserDetailsById (SriKanth.API)'
2025-06-19 17:37:01.809 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/api/User/GetUserDetailsById?userId=10 - 200 null application/json; charset=utf-8 1030.8294ms
2025-06-19 17:39:22.464 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 17:39:22.690 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 17:39:22.693 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 17:39:22.799 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:39:22.801 +05:30 [INF] Hosting environment: Development
2025-06-19 17:39:22.803 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 17:39:23.231 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 17:39:23.523 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 304.3543ms
2025-06-19 17:39:23.582 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 17:39:23.597 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 15.822ms
2025-06-19 17:39:23.656 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 17:39:23.729 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.0474ms
2025-06-19 17:39:24.497 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 17:39:24.535 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.8413ms
2025-06-19 17:40:36.253 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 393
2025-06-19 17:40:36.332 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:36.483 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:40:36.553 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-19 17:40:36.576 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 85.5428ms
2025-06-19 17:40:36.581 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:36.584 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/problem+json; charset=utf-8 330.7434ms
2025-06-19 17:40:48.457 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 392
2025-06-19 17:40:48.466 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:48.482 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:40:48.488 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-19 17:40:48.489 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 3.2665ms
2025-06-19 17:40:48.490 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:48.492 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/problem+json; charset=utf-8 35.358ms
2025-06-19 17:40:51.230 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 392
2025-06-19 17:40:51.236 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:51.240 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:40:51.250 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-19 17:40:51.251 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 8.7072ms
2025-06-19 17:40:51.252 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:40:51.253 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/problem+json; charset=utf-8 23.5418ms
2025-06-19 17:41:01.372 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 392
2025-06-19 17:41:01.375 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:41:01.376 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:41:01.386 +05:30 [INF] Updating user: 11
2025-06-19 17:41:04.031 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:41:04.034 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:41:04.037 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:41:04.039 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:41:05.932 +05:30 [INF] Executed DbCommand (258ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:41:06.229 +05:30 [INF] Executed DbCommand (196ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:41:37.788 +05:30 [INF] Executed DbCommand (300ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserLocationId], [u].[LocationCode], [u].[UserId]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:41:38.297 +05:30 [INF] Executed DbCommand (208ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p0;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p1;
UPDATE [Users] SET [UserRoleId] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-06-19 17:41:38.739 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserLocation] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([LocationCode], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([LocationCode], [UserId])
VALUES (i.[LocationCode], i.[UserId])
OUTPUT INSERTED.[UserLocationId], i._Position;
2025-06-19 17:41:38.967 +05:30 [INF] Executed DbCommand (215ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 17:41:39.176 +05:30 [INF] Executed DbCommand (204ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MFASetting] SET [IsMFAEnabled] = @p0, [PreferredMFAType] = @p1, [UserID] = @p2
OUTPUT 1
WHERE [MFASettingID] = @p3;
2025-06-19 17:41:39.183 +05:30 [INF] User updated: 11
2025-06-19 17:41:39.189 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:41:39.194 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 37814.8865ms
2025-06-19 17:41:39.200 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:41:39.208 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 200 null application/json; charset=utf-8 37836.8114ms
2025-06-19 17:42:13.158 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 383
2025-06-19 17:42:13.166 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:42:13.168 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:42:13.172 +05:30 [INF] Updating user: 11
2025-06-19 17:42:13.385 +05:30 [INF] Executed DbCommand (197ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:42:13.613 +05:30 [INF] Executed DbCommand (219ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:42:24.814 +05:30 [INF] Executed DbCommand (206ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userName_1='?' (Size = 100), @__email_2='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__userId_0 AND ([u].[Username] = @__userName_1 OR [u].[Email] = @__email_2)
2025-06-19 17:42:24.818 +05:30 [WRN] Duplicate user details: 11
2025-06-19 17:42:24.819 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:42:24.820 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 11649.3992ms
2025-06-19 17:42:24.821 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:42:24.822 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/json; charset=utf-8 11664.2952ms
2025-06-19 17:43:46.427 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 391
2025-06-19 17:43:46.437 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:43:46.440 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:43:46.444 +05:30 [INF] Updating user: 11
2025-06-19 17:43:46.736 +05:30 [INF] Executed DbCommand (197ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:43:46.943 +05:30 [INF] Executed DbCommand (201ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:43:48.978 +05:30 [INF] Executed DbCommand (445ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userName_1='?' (Size = 100), @__email_2='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__userId_0 AND ([u].[Username] = @__userName_1 OR [u].[Email] = @__email_2)
2025-06-19 17:43:48.983 +05:30 [WRN] Duplicate user details: 11
2025-06-19 17:43:48.984 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:43:48.987 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 2543.874ms
2025-06-19 17:43:48.989 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:43:48.991 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/json; charset=utf-8 2564.3636ms
2025-06-19 17:45:07.417 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 391
2025-06-19 17:45:07.435 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:45:07.437 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:45:07.439 +05:30 [INF] Updating user: 11
2025-06-19 17:45:07.646 +05:30 [INF] Executed DbCommand (202ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:45:07.863 +05:30 [INF] Executed DbCommand (209ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:45:50.575 +05:30 [INF] Executed DbCommand (243ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userName_1='?' (Size = 100), @__email_2='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__userId_0 AND ([u].[Username] = @__userName_1 OR [u].[Email] = @__email_2)
2025-06-19 17:46:10.938 +05:30 [WRN] Duplicate user details: 11
2025-06-19 17:46:10.941 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:46:10.944 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 63506.0562ms
2025-06-19 17:46:10.946 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:46:10.947 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 400 null application/json; charset=utf-8 63530.8466ms
2025-06-19 17:46:39.545 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - application/json 399
2025-06-19 17:46:39.548 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:46:39.550 +05:30 [INF] Route matched with {action = "UpdateUserInfo", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserInfo(Int32, SriKanth.Model.Login_Module.DTOs.UserDetails) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:46:39.554 +05:30 [INF] Updating user: 11
2025-06-19 17:46:39.773 +05:30 [INF] Executed DbCommand (218ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-06-19 17:46:39.980 +05:30 [INF] Executed DbCommand (199ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:46:47.458 +05:30 [INF] Executed DbCommand (210ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userName_1='?' (Size = 100), @__email_2='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] <> @__userId_0 AND ([u].[Username] = @__userName_1 OR [u].[Email] = @__email_2)
2025-06-19 17:46:51.146 +05:30 [INF] Executed DbCommand (197ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserLocationId], [u].[LocationCode], [u].[UserId]
FROM [UserLocation] AS [u]
WHERE [u].[UserId] = @__userId_0
2025-06-19 17:46:51.567 +05:30 [INF] Executed DbCommand (205ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p4='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p0;
DELETE FROM [UserLocation]
OUTPUT 1
WHERE [UserLocationId] = @p1;
UPDATE [Users] SET [Email] = @p2, [SalesPersonCode] = @p3
OUTPUT 1
WHERE [UserID] = @p4;
2025-06-19 17:46:51.967 +05:30 [INF] Executed DbCommand (196ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserLocation] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([LocationCode], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([LocationCode], [UserId])
VALUES (i.[LocationCode], i.[UserId])
OUTPUT INSERTED.[UserLocationId], i._Position;
2025-06-19 17:46:52.177 +05:30 [INF] Executed DbCommand (206ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 17:46:52.383 +05:30 [INF] Executed DbCommand (198ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MFASetting] SET [IsMFAEnabled] = @p0, [PreferredMFAType] = @p1, [UserID] = @p2
OUTPUT 1
WHERE [MFASettingID] = @p3;
2025-06-19 17:46:52.386 +05:30 [INF] User updated: 11
2025-06-19 17:46:52.387 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:46:52.389 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API) in 12837.0013ms
2025-06-19 17:46:52.391 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.UpdateUserInfo (SriKanth.API)'
2025-06-19 17:46:52.393 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/User/UpdateUser?userId=11 - 200 null application/json; charset=utf-8 12848.1548ms
2025-06-19 17:47:51.852 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7168/api/User/login - application/json 94
2025-06-19 17:47:51.865 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.UserController.Login (SriKanth.API)'
2025-06-19 17:47:51.872 +05:30 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SriKanth.Model.Login_Module.DTOs.RequestLogin) on controller SriKanth.API.Controllers.UserController (SriKanth.API).
2025-06-19 17:47:51.887 +05:30 [INF] Login attempt started for the user with username or email: DinukaChathuranga.
2025-06-19 17:47:54.509 +05:30 [INF] Executed DbCommand (1,222ms) [Parameters=[@__usernameOrEmail_0='?' (Size = 100), @__usernameOrEmail_0_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[FailedLoginCount], [u].[FirstName], [u].[IsActive], [u].[IsEmailVerified], [u].[IsLocked], [u].[IsPhoneNumberVerified], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[RememberMe], [u].[SalesPersonCode], [u].[UserRoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__usernameOrEmail_0 OR [u].[Email] = @__usernameOrEmail_0_1
2025-06-19 17:47:56.585 +05:30 [INF] Executed DbCommand (439ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MFASettingID], [m].[IsMFAEnabled], [m].[PreferredMFAType], [m].[UserID]
FROM [MFASetting] AS [m]
WHERE [m].[UserID] = @__userId_0
2025-06-19 17:47:57.066 +05:30 [INF] Executed DbCommand (475ms) [Parameters=[@p16='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 255), @p11='?' (Size = 50), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginCount] = @p2, [FirstName] = @p3, [IsActive] = @p4, [IsEmailVerified] = @p5, [IsLocked] = @p6, [IsPhoneNumberVerified] = @p7, [LastLoginAt] = @p8, [LastName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [RememberMe] = @p12, [SalesPersonCode] = @p13, [UserRoleId] = @p14, [Username] = @p15
OUTPUT 1
WHERE [UserID] = @p16;
2025-06-19 17:47:57.070 +05:30 [INF] Updated the last login time for user: 11.
2025-06-19 17:48:00.345 +05:30 [WRN] API Response: {
  "ip": "::1",
  "bogon": true
}
2025-06-19 17:48:00.752 +05:30 [INF] Executed DbCommand (320ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 255), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (Size = 255), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LoginTrack] ([Browser], [City], [Country], [DeviceType], [FailureReason], [IPAddress], [IsSuccessful], [LoginMethod], [LoginTime], [MFAMethod], [MFAUsed], [OperatingSystem], [SessionID], [UserID])
OUTPUT INSERTED.[LoginTrackID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-06-19 17:48:01.256 +05:30 [INF] Executed DbCommand (486ms) [Parameters=[@__userRoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserRoleName]
FROM [UserRole] AS [u]
WHERE [u].[UserRoleID] = @__userRoleId_0
2025-06-19 17:48:05.658 +05:30 [INF] Executed DbCommand (225ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 255), @p6='?' (Size = 1000), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserToken] ([CreatedAt], [ExpiresAt], [IsRevoked], [IsUsed], [LastUsedAt], [Purpose], [Token], [TokenType], [UserID])
OUTPUT INSERTED.[TokenID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-19 17:48:05.661 +05:30 [INF] JWT token generated and stored for user 11.
2025-06-19 17:48:07.743 +05:30 [INF] Executed DbCommand (302ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 255), @p6='?' (Size = 1000), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserToken] ([CreatedAt], [ExpiresAt], [IsRevoked], [IsUsed], [LastUsedAt], [Purpose], [Token], [TokenType], [UserID])
OUTPUT INSERTED.[TokenID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-19 17:48:07.749 +05:30 [INF] Login successful without MFA for user: 11.
2025-06-19 17:48:07.751 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:48:07.754 +05:30 [INF] Executed action SriKanth.API.Controllers.UserController.Login (SriKanth.API) in 15879.3811ms
2025-06-19 17:48:07.755 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.UserController.Login (SriKanth.API)'
2025-06-19 17:48:07.758 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7168/api/User/login - 200 null application/json; charset=utf-8 15906.4601ms
2025-06-19 17:51:05.213 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - application/json 204
2025-06-19 17:51:05.311 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SalesCoordinator|SalesPerson)
2025-06-19 17:51:05.317 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-19 17:51:05.322 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - 403 0 null 109.5826ms
2025-06-19 17:53:21.856 +05:30 [INF] User profile is available. Using 'C:\Users\Dinuk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-19 17:53:22.143 +05:30 [INF] Now listening on: https://localhost:7168
2025-06-19 17:53:22.147 +05:30 [INF] Now listening on: http://localhost:5076
2025-06-19 17:53:22.235 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:53:22.237 +05:30 [INF] Hosting environment: Development
2025-06-19 17:53:22.240 +05:30 [INF] Content root path: C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth
2025-06-19 17:53:23.126 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-06-19 17:53:23.484 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 375.9869ms
2025-06-19 17:53:23.817 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-06-19 17:53:23.817 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-06-19 17:53:23.847 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 28.8155ms
2025-06-19 17:53:23.888 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.5529ms
2025-06-19 17:53:24.720 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-06-19 17:53:24.754 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.989ms
2025-06-19 17:54:26.634 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - application/json 204
2025-06-19 17:54:26.942 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-19 17:54:27.252 +05:30 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(SriKanth.Model.BusinessModule.DTOs.UpdateOrderRequest) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-19 17:54:36.564 +05:30 [INF] Beginning status update for order 13 to status "Processing"
2025-06-19 17:54:38.874 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:54:38.877 +05:30 [WRN] No store type was specified for the decimal property 'DiscountPercent' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:54:38.878 +05:30 [WRN] No store type was specified for the decimal property 'Quantity' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:54:38.879 +05:30 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-19 17:54:41.374 +05:30 [INF] Executed DbCommand (278ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-19 17:54:41.816 +05:30 [INF] Executed DbCommand (218ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (DbType = Date), @p3='?' (Size = 4000), @p4='?' (Size = 1000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 1000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [CustomerCode] = @p0, [DelivertPersonName] = @p1, [DeliveryDate] = @p2, [LocationCode] = @p3, [Note] = @p4, [OrderDate] = @p5, [PaymentMethodCode] = @p6, [RejectReason] = @p7, [SalesPersonCode] = @p8, [Status] = @p9, [TotalAmount] = @p10, [TrackingNumber] = @p11
OUTPUT 1
WHERE [OrderNumber] = @p12;
2025-06-19 17:54:43.107 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:54:43.114 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:54:44.580 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:54:44.583 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:54:45.162 +05:30 [INF] Received HTTP response headers after 2044.4279ms - 200
2025-06-19 17:54:45.165 +05:30 [INF] End processing HTTP request after 2063.4338ms - 200
2025-06-19 17:54:46.094 +05:30 [INF] Received HTTP response headers after 1508.7588ms - 200
2025-06-19 17:54:46.094 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-19 17:54:46.097 +05:30 [INF] End processing HTTP request after 1516.6983ms - 200
2025-06-19 17:54:46.098 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-19 17:54:48.374 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-19 17:54:48.375 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-19 17:54:49.470 +05:30 [INF] Received HTTP response headers after 1093.3605ms - 200
2025-06-19 17:54:49.474 +05:30 [INF] End processing HTTP request after 1099.3663ms - 200
2025-06-19 17:54:50.597 +05:30 [INF] Received HTTP response headers after 4497.1323ms - 200
2025-06-19 17:54:50.599 +05:30 [INF] End processing HTTP request after 4505.2423ms - 200
2025-06-19 17:54:52.561 +05:30 [INF] Executed DbCommand (387ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-19 17:54:56.678 +05:30 [INF] Start processing HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-19 17:54:56.681 +05:30 [INF] Sending HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-19 17:54:59.734 +05:30 [INF] Received HTTP response headers after 3051.7388ms - 400
2025-06-19 17:54:59.737 +05:30 [INF] End processing HTTP request after 3059.2677ms - 400
2025-06-19 17:54:59.806 +05:30 [ERR] Failed to send order 13 to external API
System.Exception: API request failed. Status: BadRequest. Response: {"error":{"code":"Internal_InvalidTableRelation","message":"The field Location of table AST Sales Int Line contains a value (COLOMBO 10) that cannot be found in the related table (Location).  CorrelationId:  c584d0de-a622-448c-b82b-af35b84af512."}}
   at SriKanth.Service.SalesModule.ExternalApiService.PostDataToApiAsync[T](String apiUrl, Object data) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 166
   at SriKanth.Service.SalesModule.ExternalApiService.PostSalesOrderAsync(SalesOrderRequest salesOrder) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 256
   at SriKanth.Service.SalesModule.BusinessApiService.UpdateOrderStatusAsync(UpdateOrderRequest updateOrderRequest) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\BusinessApiService.cs:line 673
2025-06-19 17:55:00.155 +05:30 [INF] Executed DbCommand (228ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserHistory] ([ActionType], [Endpoint], [EntityType], [IPAddress], [Timestamp], [UserId])
OUTPUT INSERTED.[UserHistoryId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-19 17:55:00.176 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 17:55:00.194 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API) in 32934.9105ms
2025-06-19 17:55:00.198 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-19 17:55:00.210 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - 400 null application/json; charset=utf-8 33576.475ms
2025-06-19 17:57:36.515 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - application/json 204
2025-06-19 17:57:36.524 +05:30 [INF] Executing endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-19 17:57:36.527 +05:30 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Business"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(SriKanth.Model.BusinessModule.DTOs.UpdateOrderRequest) on controller SriKanth.API.Controllers.BusinessController (SriKanth.API).
2025-06-19 17:57:50.606 +05:30 [INF] Beginning status update for order 13 to status "Processing"
2025-06-19 17:57:50.870 +05:30 [INF] Executed DbCommand (244ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderNumber], [o].[CustomerCode], [o].[DelivertPersonName], [o].[DeliveryDate], [o].[LocationCode], [o].[Note], [o].[OrderDate], [o].[PaymentMethodCode], [o].[RejectReason], [o].[SalesPersonCode], [o].[Status], [o].[TotalAmount], [o].[TrackingNumber]
FROM [Order] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-19 17:58:14.490 +05:30 [INF] Executed DbCommand (237ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (DbType = Date), @p3='?' (Size = 4000), @p4='?' (Size = 1000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 1000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [CustomerCode] = @p0, [DelivertPersonName] = @p1, [DeliveryDate] = @p2, [LocationCode] = @p3, [Note] = @p4, [OrderDate] = @p5, [PaymentMethodCode] = @p6, [RejectReason] = @p7, [SalesPersonCode] = @p8, [Status] = @p9, [TotalAmount] = @p10, [TrackingNumber] = @p11
OUTPUT 1
WHERE [OrderNumber] = @p12;
2025-06-19 17:58:32.748 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:58:32.750 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:58:35.419 +05:30 [INF] Start processing HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:58:35.420 +05:30 [INF] Sending HTTP request POST https://login.microsoftonline.com/6dfae1d4-52b9-4fc7-9b7c-1014447db47b/oauth2/v2.0/token
2025-06-19 17:58:35.975 +05:30 [INF] Received HTTP response headers after 3224.3613ms - 200
2025-06-19 17:58:35.979 +05:30 [INF] End processing HTTP request after 3231.8398ms - 200
2025-06-19 17:58:39.716 +05:30 [INF] Received HTTP response headers after 4295.0262ms - 200
2025-06-19 17:58:39.730 +05:30 [INF] End processing HTTP request after 4311.061ms - 200
2025-06-19 17:58:40.316 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-19 17:58:40.319 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/customers
2025-06-19 17:58:41.712 +05:30 [INF] Start processing HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-19 17:58:41.739 +05:30 [INF] Sending HTTP request GET https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/locations
2025-06-19 17:58:42.994 +05:30 [INF] Received HTTP response headers after 1252.9312ms - 200
2025-06-19 17:58:43.000 +05:30 [INF] End processing HTTP request after 1288.1659ms - 200
2025-06-19 17:58:44.388 +05:30 [INF] Received HTTP response headers after 3356.199ms - 200
2025-06-19 17:58:45.210 +05:30 [INF] End processing HTTP request after 4892.7432ms - 200
2025-06-19 17:58:59.178 +05:30 [INF] Executed DbCommand (254ms) [Parameters=[@__orderNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderItemId], [o].[Description], [o].[DiscountPercent], [o].[ItemCode], [o].[OrderNumber], [o].[Quantity], [o].[UnitPrice]
FROM [OrderItem] AS [o]
WHERE [o].[OrderNumber] = @__orderNumber_0
2025-06-19 18:00:04.996 +05:30 [INF] Start processing HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-19 18:00:04.999 +05:30 [INF] Sending HTTP request POST https://api.businesscentral.dynamics.com/v2.0/dev/api/asttrum/sales/v1.0/companies(b4dd4bba-0a23-f011-9af7-000d3a087c80)/salesIntegrations?$expand=salesIntegrationLines
2025-06-19 18:00:06.658 +05:30 [INF] Received HTTP response headers after 1658.3425ms - 400
2025-06-19 18:00:06.660 +05:30 [INF] End processing HTTP request after 1664.0254ms - 400
2025-06-19 18:01:05.233 +05:30 [ERR] Failed to send order 13 to external API
System.Exception: API request failed. Status: BadRequest. Response: {"error":{"code":"Internal_InvalidTableRelation","message":"The field Location of table AST Sales Int Line contains a value (COLOMBO 10) that cannot be found in the related table (Location).  CorrelationId:  16021465-0abd-48fb-8e53-57c8527762e2."}}
   at SriKanth.Service.SalesModule.ExternalApiService.PostDataToApiAsync[T](String apiUrl, Object data) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 166
   at SriKanth.Service.SalesModule.ExternalApiService.PostSalesOrderAsync(SalesOrderRequest salesOrder) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\ExternalApiService.cs:line 256
   at SriKanth.Service.SalesModule.BusinessApiService.UpdateOrderStatusAsync(UpdateOrderRequest updateOrderRequest) in C:\Users\Dinuk\Documents\GitHub\SriKanth\SriKanth.Service\SalesModule\BusinessApiService.cs:line 673
2025-06-19 18:01:05.498 +05:30 [INF] Executed DbCommand (241ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserHistory] ([ActionType], [Endpoint], [EntityType], [IPAddress], [Timestamp], [UserId])
OUTPUT INSERTED.[UserHistoryId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-19 18:01:05.504 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-19 18:01:05.507 +05:30 [INF] Executed action SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API) in 208978.8985ms
2025-06-19 18:01:05.508 +05:30 [INF] Executed endpoint 'SriKanth.API.Controllers.BusinessController.UpdateOrderStatus (SriKanth.API)'
2025-06-19 18:01:05.509 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Business/ChangeStatus - 400 null application/json; charset=utf-8 208994.1173ms
